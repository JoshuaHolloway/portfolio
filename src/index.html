<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Josh Holloway</title>
  <link rel="stylesheet" href="./index.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/Flip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"></script>
  <script src="./gsap-shockingly-green/minified/SplitText.min.js"></script>
  
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js" defer></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.5/lottie.min.js' defer></script>



  <script src="./web-comps/toggle-switch.js" type="module"></script>
  

  <script type="module" src="./web-comps/build/web-comps-stencil.esm.js" data-stencil></script> 
  <script nomodule="" src="./web-comps/build/web-comps-stencil.js" data-stencil></script> 
  
  <script src="./index.js" type="module" defer></script>
</head>
<body data-barba="wrapper">
  

  <style>

    .barba-img {
      clip-path: polygon(0 0, 100% 0, 100% 0, 0 50%);
    }

    ul.transition {
      display: flex;
      position: absolute;
      z-index: 10;
      height: 100vh;
      width: 100%;
      top: 0;
      left: 0;
      margin: 0;
      pointer-events: none;
      list-style: none;
    }

    ul.transition li {
      transform: scaleY(0);
      background: white;
      width: 20%;
    }

  </style>

  <ul class="transition">
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
  </ul>

  <img class="barba-img" src="https://picsum.photos/200/300">

  <nav id="navdrawer">
    <div class="navlinks">
      <p class="navlink">Home</p>
      <p class="navlink">About</p>
      <p class="navlink">Porfolio</p>
      <p class="navlink">Contact</p>
    </div>
  </nav>

  <div id="overlay"></div>

  <header id="navbar">

    <div class="container gutter">
      <div class="logo"></div>
      
      <toggle-switch></toggle-switch>

      <div class="navlinks">
        
        <span class="navlink">Home</span>
        <span class="navlink">About</span>
        <span class="navlink">Porfolio</span>
        <span class="navlink">Contact</span>
        <span class="navlink">3D</span>
      </div>

      <div class="hamburger">
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
        </svg>
      </div>
    </div>
  </header>

  <div id="blur-container" data-barba="container" data-barba-namespace="home">

    <main id="home-page" class="page gutter" >

      <section id="hero">
        
        <div class="left">
          <div class="container">
            <h1 class="stagger1">Josh Holloway</h1>
            <h3 class="stagger1">Full Stack JavaScript Developer</h3>

            <div class="lottie-container">
              <div class="lottie-svg hide" id="svg"></div>

              <a
                id="lottie-play-button"
                class="stagger1 btn shadow"
                href="#" 
                onclick="this.href='data:text/html;charset=UTF-8,' + encodeURIComponent(document.documentElement.outerHTML)"
                download="joshua-holloway.com.html"
              >
                Download Page
              </a>

              <a
                class="stagger1 btn shadow"
                href="#" 
              >
                Featured Project
              </a>

            </div>

          </div>
        </div>

        <div class="right">
          <lottie-player 
            src="./Untitled-2.json"  
            background="transparent"  
            speed="1"  
            style="width: 300px; height: 300px;"  
          >
          </lottie-player>
          <script>
            const player = document.querySelector("lottie-player");
            console.log('player: ', player);
            player.addEventListener("rendered", (e) => {
              setTimeout(() => {
                player.play();
              }, 1000);
            });
          </script>

        </div>

      </section>

      <section id="skills" class="center">
        <div class="container">
          <h1 class="hidden">Text Slide</h1>
          <p class="hidden">This is text sliding...</p>
          <h3 class="hidden">Text sliding with staggering!!</h3>
        </div>

      </section>

      <section id="featured-project">
        <h2>Feature Project</h2>
      </section>


      <div class="float one shadow"></div>
      <div class="float two shadow"></div>
      <div class="float three shadow"></div>
      <div class="float four shadow"></div>
      
    </main>

    <main id="about-page" class="page center">
      <section class="gutter">
        <h1>About Page</h1>

        <uc-side-drawer title="JOSh" open></uc-side-drawer>
        <script>
          const side_drawer = document.querySelector('uc-side-drawer');

          setTimeout(() => {
            side_drawer.title = 'modified';
            // side_drawer.setAttribute('title', 'fucking attribute');
          }, 1000);

          side_drawer.addEventListener('click', () => {
            side_drawer.open = false;
          });
        </script>



        <style>
          #about-page img {
            width: 100%;
            height: 200px;
            object-fit: cover;
          }

          #about-page .relocate-to-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-gap: 1em;
            height: 300px;
            width: 100%;
            background: darkorchid;
          }

          #about-page .relocate-from-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1em;
            width: 100%;
            height: 300px;
            background: hotpink;
          }

          #about-page .text-card {
            background: rgb(236, 236, 236);
            padding: 1em;
            color: black;
          }
        </style>

        <button class="flip-button">Click Me</button>
        
        <div class="relocate-to-container"></div>

        <div class="relocate-from-container">
          <img src="https://picsum.photos/200/200" class="item relocate">
          <div class="item text-card">
            <h3>Portfolio projects...</h3>
            <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sapiente, eius.</p>
          </div>
        </div>

        <script type="module">
          (() => {
            gsap.registerPlugin(Flip);

            const qs = x => document.querySelector(x);
            const qsAll = x => document.querySelectorAll(x);

            const button = qs('#about-page .flip-button');

            const relocate_to_container = qs('#about-page .relocate-to-container');
            const relocate_from_container = qs('#about-page .relocate-from-container');
            
            
            let clicked = false;
            const setClicked = x => clicked = x;
            button.addEventListener('click', () => {
              
              
              if (!clicked) {

                const relocate = qsAll('#about-page .relocate');
                const items = gsap.utils.toArray('#about-page .item');
                const state = Flip.getState(items);

                relocate.forEach(rel => {
                  relocate_to_container.appendChild(rel)
                });
    
                Flip.from(state, {
                  duration: 1,
                  ease: "power1.inOut"
                });
                
                setClicked(true);
              
              } else {
              
                const relocate = qsAll('#about-page .relocate');
                const items = gsap.utils.toArray('#about-page .item');
                const state = Flip.getState(items);

                relocate.forEach(rel => {
                  relocate_from_container.appendChild(rel)
                });
    
                Flip.from(state, {
                  duration: 1,
                  ease: "power1.inOut"
                });

                setClicked(false);

              }

              button.textContent = clicked ? 'clicked' : 'not clicked';
            });
          })();
        </script>
      </section>

      <div style="position: relative; width: 100%;">
        <!-- Wavy SVG Divider -->
        <div class="custom-shape-divider-top-1667484223">
            <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill"></path>
            </svg>
        </div>
      </div>

      <section id="fuck" class="gutter">
        <h2>SECTION 2</h2>
      </section>

    </main>

    <main id="portfolio-page" class="page gutter center ">

      <h1>Portfolio Page</h1>

      <div id="flip-animation-container">
        <style>
          #flip-animation-container {
            width: 100%;
          }
          #portfolio-page .item {
            width: 200px;
            height: 200px;
          }
          #portfolio-page .item.one { background: darkorange; }
          #portfolio-page .item.two { background: darkorchid; }
          #portfolio-page .item.three { background: lightgreen; }
          #portfolio-page .item.four { background: magenta; }

          #portfolio-page .relocate-to-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-gap: 1em;
            height: 300px;
            width: 100%;
            background: darkorchid;
          }

          #portfolio-page .flip-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1em;
            width: 100%;
            height: 500px;
            background: hotpink;
          }

          #portfolio-page .text-card {
            background: rgb(236, 236, 236);
            padding: 1em;
            color: black;
          }
        </style>

        <div class="flip-button-container">
          <button class="flip-button-0">0</button>
          <button class="flip-button-1">1</button>
          <button class="flip-button-2">2</button>
          <button class="flip-button-3">3</button>
          <button class="flip-button-4">4</button>
        </div>

        <div class="flip-container">
          <a class="item one" href="/portfolio/clip">Clip</a>
          <div class="item three"></div>
          <div class="item four"></div>
          <div class="item one"></div>
          <div class="item two"></div>
          <div class="item four"></div>
          <div class="item two"></div>
          <div class="item three"></div>
        </div>

        <script type="module">

          gsap.registerPlugin(Flip);

          const qs = x => document.querySelector(x);
          const qsAll = x => document.querySelectorAll(x);

          const button_0 = qs('#portfolio-page .flip-button-0');
          const button_1 = qs('#portfolio-page .flip-button-1');
          const button_2 = qs('#portfolio-page .flip-button-2');
          const button_3 = qs('#portfolio-page .flip-button-3');
          const button_4 = qs('#portfolio-page .flip-button-4');
          


          const doFlip = (state) => {
            Flip.from(state, {
              duration: 0.7,
              scale: true,
              ease: "power1.inOut",
              stagger: 0.08,
              absolute: true,
              onEnter: elements => gsap.fromTo(elements, { opacity: 0, scale: 0 }, { opacity: 1, scale: 1, duration: 1 } ),
              onLeave: elements => gsap.to(elements, { opacity: 0, scale: 0, duration: 1 }),
            });
          };

          button_0.addEventListener('click', () => {
            const items = gsap.utils.toArray('#portfolio-page .item');
            let state = Flip.getState(items);
            qsAll('#portfolio-page .one').forEach(x => x.style.display = 'inline-flex'); 
            qsAll('#portfolio-page .two').forEach(x => x.style.display = 'inline-flex'); 
            qsAll('#portfolio-page .three').forEach(x => x.style.display = 'inline-flex'); 
            qsAll('#portfolio-page .four').forEach(x => x.style.display = 'inline-flex'); 
            doFlip(state);
          });

          button_1.addEventListener('click', () => {
            const items = gsap.utils.toArray('#portfolio-page .item');
            let state = Flip.getState(items);
            qsAll('#portfolio-page .one').forEach(x => x.style.display = 'inline-flex'); 
            qsAll('#portfolio-page .two').forEach(x => x.style.display = 'none'); 
            qsAll('#portfolio-page .three').forEach(x => x.style.display = 'none'); 
            qsAll('#portfolio-page .four').forEach(x => x.style.display = 'none'); 
            doFlip(state);
          });
        
          button_2.addEventListener('click', () => {
            const items = gsap.utils.toArray('#portfolio-page .item');
            let state = Flip.getState(items);
            qsAll('#portfolio-page .one').forEach(x => x.style.display = 'none'); 
            qsAll('#portfolio-page .two').forEach(x => x.style.display = 'inline-flex'); 
            qsAll('#portfolio-page .three').forEach(x => x.style.display = 'none'); 
            qsAll('#portfolio-page .four').forEach(x => x.style.display = 'none'); 
            doFlip(state);
          });

          button_3.addEventListener('click', () => {
            const items = gsap.utils.toArray('#portfolio-page .item');
            let state = Flip.getState(items);
            qsAll('#portfolio-page .one').forEach(x => x.style.display = 'none'); 
            qsAll('#portfolio-page .two').forEach(x => x.style.display = 'none'); 
            qsAll('#portfolio-page .three').forEach(x => x.style.display = 'inline-flex'); 
            qsAll('#portfolio-page .four').forEach(x => x.style.display = 'none'); 
            doFlip(state);
          });

          button_4.addEventListener('click', () => {
            const items = gsap.utils.toArray('#portfolio-page .item');
            let state = Flip.getState(items);
            qsAll('#portfolio-page .one').forEach(x => x.style.display = 'none'); 
            qsAll('#portfolio-page .two').forEach(x => x.style.display = 'none'); 
            qsAll('#portfolio-page .three').forEach(x => x.style.display = 'none'); 
            qsAll('#portfolio-page .four').forEach(x => x.style.display = 'inline-flex'); 
            doFlip(state);
          });
        </script>
      </div>

    </main>

    <main id="contact-page" class="page gutter">
      <div class="content">
        <h1 class="title">Contact page</h1>
        <button class="fun">Hover me!</button>
      </div>
      <style>
        :root {
          --gradient: linear-gradient(90deg, #ee6352, purple, #ee6352);
        }

        main#contact-page {
          font-family: basic-sans, sans-serif;
          min-height: 100vh;
          display: flex;
          justify-content: center;
          align-items: center;
          font-size: 1.125em;
          line-height: 1.6;
          color: #333;
          background: #ddd;
          background-size: 300%;
          background-image: var(--gradient);
          -webkit-animation: bg-animation 25s infinite;
                  animation: bg-animation 25s infinite;
        }

        @-webkit-keyframes bg-animation {
          0% {
            background-position: left;
          }
          50% {
            background-position: right;
          }
          100% {
            background-position: left;
          }
        }

        @keyframes bg-animation {
          0% {
            background-position: left;
          }
          50% {
            background-position: right;
          }
          100% {
            background-position: left;
          }
        }
        .content {
          background: white;
          width: 70vw;
          padding: 3em;
          box-shadow: 0 0 3em rgba(0, 0, 0, 0.15);
        }

        .title {
          margin: 0 0 0.5em;
          text-transform: uppercase;
          font-weight: 900;
          font-style: italic;
          font-size: 3rem;
          color: #ee6352;
          line-height: 0.8;
          margin: 0;
          background-image: var(--gradient);
          -webkit-background-clip: text;
                  background-clip: text;
          color: transparent;
          background-size: 300%;
          transition: background-position 1s;
        }

        .title:hover {
          background-position: right;
        }

        .fun {
          color: white;
          border: 0;
          cursor: pointer;
          padding: 0.5em 1.25em;
          background: linear-gradient(90deg, #ee6352, purple, #ee6352);
          background-size: 300%;
          background-position: left;
          transition: background-position 350ms;
        }

        .fun:hover {
          background-position: right;
        }
      </style>

    </main>

    <main id="threeD-page" class="page" style="padding: 0;">

    </main>
    <script type="module">

      import * as THREE from 'https://unpkg.com/three@0.126.1/build/three.module.js';

      const scene = new THREE.Scene();
      
      const camera = new THREE.PerspectiveCamera(
        75,                       // field of view [deg.]
        innerWidth / innerHeight, // aspect ratio of scene
        0.1,                      // clipping plane (near)
        1000,                     // clipping plane (far)
      );

      const renderer = new THREE.WebGLRenderer();

      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setPixelRatio(window.devicePixelRation);

      document.querySelector('#threeD-page').appendChild(renderer.domElement);

      const boxGeometry = new THREE.BoxGeometry(1, 1, 1);
      const material1 = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
      const cube = new THREE.Mesh(boxGeometry, material1);
      scene.add(cube);

      const planeGeometry = new THREE.PlaneGeometry(5, 5, 10, 10);
      const material2 = new THREE.MeshPhongMaterial({ 
        color: 0x000fff,
        side: THREE.DoubleSide
      });
      const plane = new THREE.Mesh(planeGeometry, material2);
      scene.add(plane);

      console.log('plane mesh vertices: ', 
        plane.geometry.attributes.position.array
      );

      const light = new THREE.DirectionalLight(0xffffff, 1, );
      light.position.set(0, 0, 1); // x, y, z
      scene.add(light);

      camera.position.z = 5;

      function animate() {
        requestAnimationFrame(animate);
        renderer.render(scene, camera);
        cube.rotation.x += 0.01;
        cube.rotation.y += 0.01;
      }
      animate();

    </script>

    <footer style="position: relative;">
      <!-- <p>© <span id="year">2022</span> Josh Holloway</p> -->
    </footer>
  </div> <!-- .blur-container -->
  

  <script src="https://unpkg.com/@barba/core"></script>
  <script src="./fuck.js"></script>

</body>
</html>